<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>积分排行榜</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <meta name="description" content="海浪山风休闲户外旅游在线平台">
    <link rel="stylesheet" href="../css/weui.min.css">
    <link rel="stylesheet" href="../css/jquery-weui.min.css">
    <link rel="stylesheet" href="../css/index.css">
    <style>
        /*排行榜头*/
        .top-bar{
            position: fixed;
            top: 0;
            width: 100%;
            color: #fff;
            line-height: 40px;
            background: #6699ff;
            text-align:center;
            font-size: 14px;
        }
        .rank-item:first-child{margin-top: 40px}
        .rank-item{
            line-height: 50px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 12px;
            text-align: center;
            background: #fff;
        }
        .head-img{
            width: 32px;
            height: 32px;
            margin-right: 5px;
            border-radius: 50%;
            vertical-align: middle;
        }
        /*.user-name{}*/
        .weui-tabbar{position: fixed;bottom: 0}

        /*底部提示*/
        .weui-loadmore a {
            font-size: 12px;
            color: #37a1ff
        }
        .weui-loadmore{margin-bottom: 70px}
        .weui-loadmore__tips{color: #999}
    </style>
</head>
<body>
<!--排行榜头-->
<div class="weui-flex top-bar">
        <div class="weui-flex__item">用户名</div>
        <div class="weui-flex__item">参与活动次数</div>
        <div class="weui-flex__item">个人积分</div>
    </div>
<!--排行内容-->
<div id="list">
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">1</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">2</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">3</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
    <div class="weui-flex rank-item">
        <div class="weui-flex__item">
            <img src="../images/product.jpg" class="head-img">
            <span class="user-name">微信用户名</span>
        </div>
        <div class="weui-flex__item">233</div>
        <div class="weui-flex__item">188888</div>
    </div>
</div>
<!--加载提示-->
<div class="weui-loadmore">
    <i class="weui-loading"></i>
    <span class="weui-loadmore__tips">loading</span>
</div>
<!--底部导航栏-->
<div class="weui-tabbar">
    <a href="../index.html" class="weui-tabbar__item">
        <!--<span class="weui-badge" style="position: absolute;top: -.4em;right: 1.5em;">8</span>-->
        <div class="weui-tabbar__icon">
            <img src="../images/nav-home.png" alt="">
        </div>
        <p class="weui-tabbar__label">首页</p>
    </a>
    <a href="../society.html" class="weui-tabbar__item">
        <div class="weui-tabbar__icon">
            <img src="../images/nav-society.png" alt="">
        </div>
        <p class="weui-tabbar__label">社区</p>
    </a>
    <a href="../outdoor.html" class="weui-tabbar__item">
        <div class="weui-tabbar__icon">
            <img src="../images/nav-out.png" alt="">
        </div>
        <p class="weui-tabbar__label">户外学堂</p>
    </a>
    <a href="../mine.html" class="weui-tabbar__item">
        <div class="weui-tabbar__icon">
            <img src="../images/nav-mine.png" alt="">
        </div>
        <p class="weui-tabbar__label">我的</p>
    </a>
</div>
<script src="../js/jquery-3.2.0.min.js"></script>
<script src="../js/jquery-weui.min.js"></script>
<script src="../js/fastclick.js"></script>
<script>
    $(function () {
        FastClick.attach(document.body);
        var loading = false;  //状态标记
        var currentPage = 0,totalPage = 3;
        $(document.body).infinite().on("infinite", function() {
            if(loading) return;
            loading = true;
            setTimeout(function() {
                currentPage++;
                if(currentPage < totalPage){
                    for(var i=0; i<10;i++){
                        $("#list").append("<div class='weui-flex rank-item'>" +
                            "<div class='weui-flex__item'>" +
                            "<img src='../images/product.jpg' class='head-img'>" +
                            "<span class='user-name'>微信用户名</span></div>" +
                            "<div class='weui-flex__item'>233</div><div class='weui-flex__item'>188888</div></div>");
                    }
                }
                else {
                    $(".weui-loadmore").html("<a href='../index.html'>我是有底线哒，去首页看看吧~</a>");
                    $(document.body).destroyInfinite();//销毁滚动加载插件
                }
                loading = false;
            }, 500);   //模拟延迟
        });
    });
</script>
</body>
</html>